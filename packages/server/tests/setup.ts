/**
 * Jest setup for PEAC v0.9.3
 * Keep this minimal and repo-safe (no secrets, no I/O).
 */

// Set up test environment variables
process.env.SESSION_PRIVATE_KEY_PEM = `-----BEGIN PRIVATE KEY-----
MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDLW29LzIfnW3wC
DzCy3gc8XEt7Og92UNQ5oTARG2sb0pWHrLINwsCEr/UrcpNfMOfPdjcF08v41ux4
YXUsW5IjYs5XntjBwUdI4YY6jFZbeMk2ipxOdfYcqk7MloM24Pl2v5FTHrSL4vf7
VmyNsCpWvQRzZts+QzQ4raELTvAg27pcWyk2PmKAsl0utNW7OAhDWELdYhh1XfTQ
biT449xnoVyt9lSHNhbt/Ti0TjprqwERNKyUCvd3Bf7OfyYzdKGs0NRCuqRJ+1A5
HvGjkIsHDqI8otvlGmMq0YWj3XST/fW94QRUEI13jiNyHUDM8LaMQbzKasYJMBg+
qpBtR5qbAgMBAAECggEARyLpmHToV6TXiOriaLelhVZt6yHg1c0pqC08IMfcHIP6
XdcqBAlMCj55P6UZa3Oyq46Zadbwo9AfMW86K3Wu9eTy9JCzF3gypQqLR4DfFql2
jbdIPWQjX1yuKwA9z108tu8FebOkiciwYcIWQCxPaz88xtfEuw+MPYVzb/7BnmRO
RoyQTSA8IeurhjesNcmPLdhfcqV5wLFzEsYLTB7lhdO6zJMUjquddlhBabog1dQk
90rwE0vxeVItoZA/hBLOHEg0fu5fFvhTLxeUCEuT0t/xr/MoGxMOY/prlDWHi+Ff
oWbg3dQgRzdWhSvzo9DPMf3yIom97D4BpTJqkzWn/QKBgQD+VSFlJe2eya/nVnvV
UxMCoV5nf3DVm320ueaPR97ng8Bcf7D+C5B1l5NSIaiEjfd8p7olo6jnHfR6UlUy
bfh+/XxeTW/9ZQNztgehSelJcKaGpR221MIhbaXwLVJKw9phDdxqIrogdqfIK1vr
+0r221v0WgD2M3hCrxMgb/mIlwKBgQDMsL9nZUJrCgTOUaKMlOcnX6mcQ6bJXiGI
balNL1QIBBvGVCkVuC9QH4+VyFuz+rZZqr4v4au88+iQhRk32zBvXW+kjJ93t58f
zY7oJRXX5Wm56zRR/Xc+mFyVD0MxE/L3hSY3ZNUdhXlbT021dROtpeK/8+J9Yuo/
Qv/GcgyanQKBgBO+yDjyGOCbB+0N6c9GA9PQc2PVoQz0ZW4CgMPe8I9Iy0ZjI3qV
q0F14xodQtgHrY8f9nO1oQdQbAqTGcowf3pcc6tel7M0hHAXUcBT3Ki29ja92vC2
09uEh719x0XGrs2aJeKXj5u1mpEPzLMlb0x6+0idNDXpCQ0kSnfaOaVBAoGBAKAp
bJsq0F2Q6VHG7rmxiW11nPF4vfiyfuqRY/fRIJ9lF5aII92q0NqQ13kL3TVm52gi
Ac7VddvTvhXXD3R1PeDl64WFwwGZ3Bi2byuWWREloSSotbex7Kw967N2zcyJH4Qt
20lczKTc26hm1Rc3FL67HkG0Q3R5AXGeqyRL+TDBAoGAS1p0o3sPI8L4wsDk3XaS
gO4JqtOQkXoUP7D6GE/x3k0XysiW5emL/OYHVzZQUQsEOmxdKTYtjWCGIcXPXoUu
PSqJsjavM5n1Exp1jZbTyi/RHt1oQr+LM+ggJd4WfC6VjRno54Q77KxO4Z7JMGbu
xS3UklrTA8SZLTJ53Uaq6Wc=
-----END PRIVATE KEY-----`;

process.env.SESSION_PUBLIC_KEY_PEM = `-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAy1tvS8yH51t8Ag8wst4H
PFxLezoPdlDUOaEwERtrG9KVh6yyDcLAhK/1K3KTXzDnz3Y3BdPL+NbseGF1LFuS
I2LOV57YwcFHSOGGOoxWW3jJNoqcTnX2HKpOzJaDNuD5dr+RUx60i+L3+1ZsjbAq
Vr0Ec2bbPkM0OK2hC07wINu6XFspNj5igLJdLrTVuzgIQ1hC3WIYdV300G4k+OPc
Z6FcrfZUhzYW7f04tE46a6sBETSslAr3dwX+zn8mM3ShrNDUQrqkSftQOR7xo5CL
Bw6iPKLb5RpjKtGFo910k/31veEEVBCNd44jch1AzPC2jEG8ymrGCTAYPqqQbUea
mwIDAQAB
-----END PUBLIC KEY-----`;

// Make test hangs obvious.
jest.setTimeout(10000);

// Fail fast on unhandled promise rejections (good hygiene).
process.on("unhandledRejection", (err) => {
  throw err;
});
